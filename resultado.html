<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>🌟 Resultado Final</title>
  <style>
    body {
      background: linear-gradient(to right, #89f7fe, #66a6ff);
      color: #fff;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      padding: 2em;
    }
    h1 {
      font-size: 3em;
    }
    .card {
      background: rgba(255, 255, 255, 0.2);
      padding: 2em;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
      max-width: 600px;
      margin: 2em auto;
    }
    .medalla {
      font-size: 5em;
      margin-top: 20px;
    }
    .mensaje-final {
      font-size: 1.5em;
      margin-top: 10px;
      color: #fff;
    }
    button {
      margin-top: 20px;
      padding: 0.5em 1em;
      font-size: 1.2em;
      border: none;
      border-radius: 10px;
      background-color: #fff;
      color: #007BFF;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    button:hover {
      background-color: #e0f0ff;
    }
  </style>
</head>
<body>
  <h1>🌟 ¡Resultados!</h1>
  <div class="card" id="resumen"></div>

  <audio id="audioCorrecto" src="sonidos/correcto.mp3"></audio>
  <audio id="audioIncorrecto" src="sonidos/incorrecto.mp3"></audio>

  <script>
    const ejercicios = JSON.parse(localStorage.getItem("ejercicios")) || [];
    const respuestas = JSON.parse(localStorage.getItem("respuestas")) || [];

    let correctas = 0, incorrectas = 0;

    ejercicios.forEach((ej, i) => {
      const resultado = ej.a * ej.b;
      if (respuestas[i] === resultado) {
        correctas++;
        // Se podría reproducir sonido aquí, pero sería muy repetitivo
        // document.getElementById("audioCorrecto").play();
      } else {
        incorrectas++;
        // document.getElementById("audioIncorrecto").play();
      }
    });

    let medalla = "";
    let mensaje = "";

    if (incorrectas === 0) {
      medalla = "🥇"; // oro
      mensaje = "¡Increíble! ¡Obtuviste la Medalla de Oro!";
    } else if (incorrectas <= 5) {
      medalla = "🥈"; // plata
      mensaje = "¡Muy bien! ¡Medalla de Plata!";
    } else if (incorrectas <= 10) {
      medalla = "🥉"; // bronce
      mensaje = "¡Buen intento! ¡Medalla de Bronce!";
    } else {
      medalla = "";
      mensaje = "🙌 SIGUE INTENTANDO, ¡TÚ PUEDES! 🙌";
    }

    document.getElementById("resumen").innerHTML = `
      ✅ Respuestas correctas: <strong>${correctas}</strong><br>
      ❌ Respuestas incorrectas: <strong>${incorrectas}</strong><br>
      <div class="medalla">${medalla}</div>
      <div class="mensaje-final">${mensaje}</div>
      <button onclick="location.href='index.html'">🔁 Volver a empezar</button>
    `;
  </script>
</body>
</html>